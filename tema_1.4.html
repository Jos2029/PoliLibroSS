<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contenido - ESCOM IPN</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* ---------- Layout básico ---------- */
    :root{
      --brand:#045fb4;
      --accent:#66a6ff;
      --dark:#222;
      --muted:#666;
      --bg:#f7f9ff;
    }
    html,body{height:100%;margin:0;font-family:Inter, "Segoe UI", Roboto, Arial, sans-serif;background:var(--bg);color:#111}
    .header{
      display:flex;align-items:center;justify-content:space-between;
      background:linear-gradient(90deg,#045fb4,#66a6ff);
      padding: 15px 20px;
      box-shadow:0 4px 12px rgba(0,0,0,0.08);
    }
    
    .logo-escom{font-weight:700;font-size:1.25rem}
    .nav-links a{color:rgba(255,255,255,0.95);margin:0 10px;text-decoration:none;font-size:0.95rem}
    .franja-titulo{background:#fff;padding:14px 18px;border-bottom:4px solid #e6eefc}
    .titulo-franja{margin:0;color:var(--brand);font-size:1.25rem}
    main.contenedor-paginado{padding:18px 22px;max-width:1100px;margin:0 auto}
    .pagina{display:none}
    .pagina.activa{display:block}
    .contenido-pagina{background:white;border-radius:10px;padding:18px;box-shadow:0 6px 18px rgba(5,40,90,0.06)}
    .contenido-pagina h2{color:var(--brand);margin-top:0}
    pre{background:#f4f6fb;padding:12px;border-radius:8px;overflow:auto}

    /* ---------- Botonera ---------- */
    .contenedor-botones{padding:14px 22px;max-width:1100px;margin:0 auto;display:flex;justify-content:center}
    .botones-paginacion{
      display:flex;align-items:center;gap:8px;flex-wrap:wrap;
      background:transparent;padding:6px;
    }
    .botones-paginacion button,
    .botones-paginacion .nav-btn{
      padding:8px 12px;border-radius:8px;border:1px solid #d7e6fb;background:white;
      cursor:pointer;font-weight:600;color:var(--dark);
      transition:transform .12s ease, box-shadow .12s ease;
    }
    .botones-paginacion button:hover{transform:translateY(-2px);box-shadow:0 8px 18px rgba(6,60,120,0.06)}
    .botones-paginacion button:disabled{opacity:0.45;cursor:not-allowed;transform:none;box-shadow:none}
    .btn-num{min-width:40px}
    .btn-num.activo{background:linear-gradient(45deg,var(--accent),var(--brand));color:white;border-color:transparent;transform:scale(1.06)}
    #texto-tema{margin:0 10px;color:var(--brand);font-weight:700}
    /* Siguiente tema / Volver inicio */
    #btnSiguienteTema{background:linear-gradient(45deg,#4CAF50,#45a049);color:white;border:0}
    #btnVolverInicio{background:linear-gradient(45deg,#ff7f50,#ff6a00);color:white;border:0}

    /* ---------- Formularios (actividades) ---------- */
    .actividad{margin-top:14px}
    .pregunta{margin:10px 0;padding:10px;border-radius:8px;background:#fbfdff;border:1px solid #eef6ff}
    .pregunta p{margin:6px 0}
    .feedback{margin-top:8px;padding:8px;border-radius:6px;font-weight:600;display:none}
    .feedback.ok{background:#e6fbef;color:#067a3a;border:1px solid #b8efcf;display:block}
    .feedback.bad{background:#fff0f0;color:#a40000;border:1px solid #ffd2d2;display:block}

    /* ---------- Footer ---------- */
    .footer{display:flex;flex-wrap:wrap;justify-content:space-between;gap:16px;padding:22px;background:#0b2540;color:white}
    .footer-columna{min-width:200px;max-width:320px}
    .footer h3, .footer h4{margin:6px 0}

    /* ---------- Responsive ---------- */
    @media (max-width:820px){
      .nav-links{display:none}
      .titulo-franja{font-size:1rem}
      .botones-paginacion{justify-content:center}
    }
  </style>
</head>
<body>

  <header class="header">
    <div class="logo-escom">ESCOM IPN</div>
    <nav class="nav-links">
      <a href="index.html">Inicio</a>
      <a href="glosario.html">Glosario</a>
      <a href="cursos.html">Cursos</a>
      <a href="cursoActual.html">Curso Actual</a>
      <a href="#">Contacta a tu profesor</a>
    </nav>
    <div class="login-link">Login</div>
  </header>

  <div class="franja-titulo">
    <h1 class="titulo-franja" id="titulo-franja">Introducción</h1>
  </div>

  <main class="contenedor-paginado">

    <!-- ------------------ TEMA 1.4 (páginas 17..21) ------------------ -->
    <section class="pagina pagina-1-4" data-titulo="1.4 Exploración exhaustiva y vuelta atrás">
      <div class="contenido-pagina">
        <h2>1.4 Exploración exhaustiva y vuelta atrás</h2>
        <p>
          Cuando se enfrenta a problemas complejos, como encontrar el camino en un laberinto, la estrategia de comenzar por el final puede facilitar la solución...
        </p>
      </div>
    </section>

    <section class="pagina pagina-1-4-1" data-titulo="1.4.1 Exploración exhaustiva">
      <div class="contenido-pagina">
        <h2>1.4.1 Exploración exhaustiva</h2>
        <p>
          La exploración exhaustiva es un enfoque que examina sistemáticamente el espacio de estados de un problema en busca de una o más soluciones...
        </p>
      </div>
    </section>

    <section class="pagina pagina-1-4-2" data-titulo="1.4.2 Programación por vuelta atrás">
      <div class="contenido-pagina">
        <h2>1.4.2 Programación por vuelta atrás</h2>
        <p>
          La programación por vuelta atrás (backtracking) optimiza la exploración al enfocarse solo en las ramas candidatas que pueden conducir a una solución...
        </p>
      </div>
    </section>

    <section class="pagina pagina-1-4-3" data-titulo="1.4.3 Nociones de complejidad">
      <div class="contenido-pagina">
        <h2>1.4.3 Nociones de complejidad</h2>
        <p>
          Complejidad de la exploración exhaustiva: O(n!) en muchos problemas; backtracking: complejidad exponencial pero con poda puede mejorar en la práctica.
        </p>
      </div>
    </section>

    <section class="pagina pagina-actividad4" data-titulo="Actividad 4 - Cuestionario Backtracking">
      <div class="contenido-pagina">
        <h2>Actividad 4: Cuestionario general de exploración exhaustiva y vuelta atrás</h2>
        <div class="actividad" id="actividad4">
          <div class="pregunta">
            <p><strong>1.</strong> ¿Qué es la programación por exploración exhaustiva?</p>
            <label><input type="radio" name="a1" value="a"> a) Un método que busca soluciones óptimas mediante la eliminación de opciones no viables.</label><br>
            <label><input type="radio" name="a1" value="b"> b) Una técnica que evalúa todas las combinaciones posibles para encontrar la solución más adecuada.</label><br>
            <label><input type="radio" name="a1" value="c"> c) Un enfoque que se basa en la aleatorización para resolver problemas complejos.</label>
          </div>

          <div class="pregunta">
            <p><strong>2.</strong> ¿Cuál describe mejor la técnica de vuelta atrás?</p>
            <label><input type="radio" name="a2" value="a"> a) Se enfoca en dividir y conquistar problemas complejos.</label><br>
            <label><input type="radio" name="a2" value="b"> b) Explora cada posibilidad y retrocede cuando encuentra una solución no válida.</label><br>
            <label><input type="radio" name="a2" value="c"> c) Utiliza heurísticas para reducir el espacio de búsqueda de forma eficiente.</label>
          </div>

          <div class="pregunta">
            <p><strong>3.</strong> ¿Cuál es la complejidad temporal en el peor caso para la exploración exhaustiva en un problema con n elementos?</p>
            <label><input type="radio" name="a3" value="a"> a) O(n)</label><br>
            <label><input type="radio" name="a3" value="b"> b) O(n!)</label><br>
            <label><input type="radio" name="a3" value="c"> c) O(2^n)</label>
          </div>

          <div class="pregunta">
            <p><strong>4.</strong> ¿En qué situaciones es más adecuado usar la técnica de vuelta atrás?</p>
            <label><input type="radio" name="a4" value="a"> a) Problemas donde se puede definir claramente un conjunto de soluciones válidas.</label><br>
            <label><input type="radio" name="a4" value="b"> b) Problemas donde no se requiere optimización y se puede aceptar cualquier solución.</label><br>
            <label><input type="radio" name="a4" value="c"> c) Problemas que no tienen restricciones en la solución.</label>
          </div>

          <div class="pregunta">
            <p><strong>5.</strong> ¿Cuál es la complejidad de tiempo de la técnica de vuelta atrás en un problema de permutaciones?</p>
            <label><input type="radio" name="a5" value="a"> a) O(n)</label><br>
            <label><input type="radio" name="a5" value="b"> b) O(n^2)</label><br>
            <label><input type="radio" name="a5" value="c"> c) O(n!)</label>
          </div>

          <div class="pregunta">
            <p><strong>6.</strong> ¿Qué tipo de problemas se benefician más de la exploración exhaustiva?</p>
            <label><input type="radio" name="a6" value="a"> a) Problemas donde hay múltiples soluciones óptimas.</label><br>
            <label><input type="radio" name="a6" value="b"> b) Problemas de optimización que requieren la mejor solución posible.</label><br>
            <label><input type="radio" name="a6" value="c"> c) Problemas donde es fácil encontrar una solución factible.</label>
          </div>

          <div class="pregunta">
            <p><strong>7.</strong> ¿Cómo se caracteriza la complejidad espacial de la técnica de vuelta atrás?</p>
            <label><input type="radio" name="a7" value="a"> a) Siempre es O(1), independientemente del tamaño del problema.</label><br>
            <label><input type="radio" name="a7" value="b"> b) Depende de la profundidad del árbol de recursión.</label><br>
            <label><input type="radio" name="a7" value="c"> c) Es lineal con respecto al número de elementos en el problema.</label>
          </div>

          <div class="pregunta">
            <p><strong>8.</strong> ¿Qué estrategia se utiliza comúnmente para mejorar la eficiencia en problemas que aplican vuelta atrás?</p>
            <label><input type="radio" name="a8" value="a"> a) Eliminar las soluciones no válidas de manera anticipada.</label><br>
            <label><input type="radio" name="a8" value="b"> b) Usar un algoritmo de búsqueda en profundidad.</label><br>
            <label><input type="radio" name="a8" value="c"> c) Implementar un enfoque de programación dinámica.</label>
          </div>

          <div class="pregunta">
            <p><strong>9.</strong> ¿Qué limitación tiene la programación por exploración exhaustiva?</p>
            <label><input type="radio" name="a9" value="a"> a) No puede encontrar soluciones óptimas.</label><br>
            <label><input type="radio" name="a9" value="b"> b) Es ineficiente para problemas grandes debido a su alta complejidad.</label><br>
            <label><input type="radio" name="a9" value="c"> c) No puede ser paralelizada.</label>
          </div>

          <div style="display:flex;gap:8px;margin-top:12px;">
            <button onclick="validarActividad4()">Validar respuestas</button>
            <button onclick="reiniciarActividad4()" style="background:#eee;color:#111">Reiniciar marcas</button>
            <div id="resultado4" style="margin-left:10px;font-weight:700;color:var(--brand)"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- ------------------ RESTO DEL CONTENIDO / Tema final (páginas 22..29) ------------------ -->
    <section class="pagina pagina-ordenamiento-avanzado" data-titulo="Algoritmos de Ordenamiento Avanzados">
      <div class="contenido-pagina">
        <h2>Algoritmos de Ordenamiento Avanzados</h2>
        <p>Quick Sort, Merge Sort, Heap Sort...</p>
      </div>
    </section>

    <section class="pagina pagina-recursion-avanzada" data-titulo="Recursión y Programación Dinámica">
      <div class="contenido-pagina">
        <h2>Recursión y Programación Dinámica</h2>
        <p>Contenido sobre recursión y DP...</p>
      </div>
    </section>

    <section class="pagina pagina-grafos-avanzados" data-titulo="Grafos y Algoritmos de Redes">
      <div class="contenido-pagina">
        <h2>Grafos y Algoritmos de Redes</h2>
        <p>Contenido sobre grafos...</p>
      </div>
    </section>

    <section class="pagina pagina-analisis-avanzado" data-titulo="Análisis Comparativo Avanzado">
      <div class="contenido-pagina">
        <h2>Análisis Comparativo Avanzado</h2>
        <p>Contenido sobre análisis comparativo...</p>
      </div>
    </section>

    <section class="pagina pagina-sistemas-reales" data-titulo="Implementación en Sistemas Reales">
      <div class="contenido-pagina">
        <h2>Implementación en Sistemas Reales</h2>
        <p>Contenido sobre implementación en sistemas reales...</p>
      </div>
    </section>

    <section class="pagina pagina-futuro" data-titulo="Tendencias y Futuro de los Algoritmos">
      <div class="contenido-pagina">
        <h2>Tendencias y Futuro de los Algoritmos</h2>
        <p>Contenido sobre tendencias...</p>
      </div>
    </section>

    <section class="pagina pagina-tendencias" data-titulo="Tendencias Actuales">
      <div class="contenido-pagina">
        <h2>Tendencias Actuales</h2>
        <p>Contenido sobre tendencias actuales...</p>
      </div>
    </section>

    <section class="pagina pagina-referencias" data-titulo="Referencias Bibliográficas">
      <div class="contenido-pagina">
        <h2>Referencias Bibliográficas</h2>
        <p>Listado de referencias...</p>
      </div>
    </section>

  </main>

  <!-- ---------- CONTROLES ---------- -->
  <div class="contenedor-botones">
    <div class="botones-paginacion">
      <button id="btnAtras" class="nav-btn">Atrás</button>

      <!-- Botones numéricos 1..7 (siempre visibles, no ocultables) -->
      <button class="btn-num" data-pos="0">1</button>
      <button class="btn-num" data-pos="1">2</button>
      <button class="btn-num" data-pos="2">3</button>
      <button class="btn-num" data-pos="3">4</button>
      <button class="btn-num" data-pos="4">5</button>
      <button class="btn-num" data-pos="5">6</button>
      <button class="btn-num" data-pos="6">7</button>

      <button id="btnSiguiente" class="nav-btn">Siguiente</button>

      <span id="texto-tema">Tema 1</span>

      <button id="btnSiguienteTema">Siguiente Tema</button>

      <button id="btnVolverInicio">Volver al inicio</button>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-columna">
      <h3 class="footer-titulo">Plataforma de educación a distancia</h3>
      <p class="footer-subtitulo">ESCOM IPN</p>
    </div>
    <div class="footer-columna">
      <h4 class="footer-subtitulo">Ubicación</h4>
      <p>Unidad Profesional Adolfo López Mateos,<br>Av. Juan de Dios Bátiz, Nueva Industrial Vallejo,<br>Gustavo A. Madero, 07320 Ciudad de México, CDMX</p>
    </div>
    <div class="footer-columna">
      <h4 class="footer-subtitulo">Contáctanos</h4>
      <p>email@example.com<br>(555) 555-5555</p>
    </div>
  </footer>

  <script>
    /* ---------- Estado y mapeo de temas ---------- */
    // Páginas globales (coinciden con el orden en el DOM)
    const paginas = Array.from(document.querySelectorAll('.pagina'));
    // Temas con sus índices globales (ajusta si cambias el orden del HTML)
    const temasPaginas = {
      1: [0,1,2,3,4,5,6],        // Tema 1: Introducción ... Aplicaciones (7 páginas)
      2: [7,8,9,10],            // Tema 1.2: ordenamiento (4 páginas)
      3: [11,12,13,14,15,16],   // Tema 1.3: búsqueda + actividad (6 páginas)
      4: [17,18,19,20,21],      // Tema 1.4: exploración/backtracking + actividad (5 páginas)
      5: [22,23,24,25,26,27,28,29] // Tema final / extras (8 páginas)
    };
    const totalTemas = Object.keys(temasPaginas).length;

    let temaActual = 1;
    let paginaActual = temasPaginas[1][0];

    /* ---------- DOM controls ---------- */
    const btnAtras = document.getElementById('btnAtras');
    const btnSiguiente = document.getElementById('btnSiguiente');
    const btnSiguienteTema = document.getElementById('btnSiguienteTema');
    const btnVolverInicio = document.getElementById('btnVolverInicio');
    const textoTema = document.getElementById('texto-tema');
    const btnNums = Array.from(document.querySelectorAll('.btn-num'));
    const tituloFranja = document.getElementById('titulo-franja');

    /* ---------- Funciones de navegación ---------- */
    function mostrarPagina(index){
      paginas.forEach((p,i)=> p.classList.toggle('activa', i === index));
      paginaActual = index;
      // actualizar título de franja
      const t = paginas[index].getAttribute('data-titulo') || '';
      tituloFranja.textContent = t;
      actualizarInterfaz();
      // scroll to top of main content
      window.scrollTo({top:0,behavior:'smooth'});
    }

    function actualizarInterfaz(){
      const paginasDelTema = temasPaginas[temaActual];
      const posEnTema = paginasDelTema.indexOf(paginaActual); // -1 si la página actual no está en el tema (raro)

      // Actualizar botones 1..7 (siempre visibles pero activables/desactivables)
      btnNums.forEach(btn=>{
        const pos = Number(btn.dataset.pos);
        if (pos < paginasDelTema.length){
          btn.disabled = false;
          btn.classList.toggle('activo', pos === posEnTema);
          btn.onclick = () => {
            const idxGlobal = paginasDelTema[pos];
            mostrarPagina(idxGlobal);
          };
        } else {
          // mostrar pero deshabilitado (no ocultable)
          btn.disabled = true;
          btn.classList.remove('activo');
          btn.onclick = null;
        }
      });

      // botones Atrás/Siguiente (navegan dentro del tema)
      btnAtras.disabled = (posEnTema <= 0);
      btnSiguiente.disabled = (posEnTema === -1 || posEnTema >= paginasDelTema.length - 1);

      // Siguiente Tema: siempre visible, pero deshabilitado en último tema
      btnSiguienteTema.disabled = (temaActual >= totalTemas);

      // Texto del tema
      textoTema.textContent = `Tema ${temaActual}`;

      // (Opcional) marcar botón SiguienteTema si estás a la última página — no necesario, queda siempre visible
    }

    // Navegar dentro del tema por desplazamiento
    function cambiarPaginaEnTema(direccion){
      const paginasDelTema = temasPaginas[temaActual];
      const posEnTema = paginasDelTema.indexOf(paginaActual);
      const nuevoPos = posEnTema + direccion;
      if (nuevoPos >= 0 && nuevoPos < paginasDelTema.length){
        mostrarPagina(paginasDelTema[nuevoPos]);
      }
    }

    // Saltar al siguiente tema
    function siguienteTema(){
      if (temaActual < totalTemas){
        temaActual++;
        const primera = temasPaginas[temaActual][0];
        mostrarPagina(primera);
      }
    }

    // Volver al inicio (página 0, tema 1)
    function volverInicio(){
      temaActual = 1;
      mostrarPagina(temasPaginas[1][0]);
    }

    // Event listeners
    btnAtras.addEventListener('click', ()=> cambiarPaginaEnTema(-1));
    btnSiguiente.addEventListener('click', ()=> cambiarPaginaEnTema(1));
    btnSiguienteTema.addEventListener('click', siguienteTema);
    btnVolverInicio.addEventListener('click', volverInicio);

    // Inicializar
    mostrarPagina(paginaActual);

    /* ------------------ Actividad 3: validación ------------------ */
    function validarActividad3(){
      // respuestas correctas
      const correct = {
        q1:'b', q2:'b', q3:'c', q4:'b', q5:'c', q6:'c', q7:'c', q11:'a'
      };
      let score = 0, total = 9; // 7 MC + 2 text (q8-q10 counted separately)
      // MC checks
      for (let i=1;i<=7;i++){
        const name = 'q'+i;
        const el = document.querySelector(`input[name="${name}"]:checked`);
        if (el && correct[name] && el.value === correct[name]) score++;
      }
      // q11
      const q11el = document.querySelector('input[name="q11"]:checked');
      if (q11el && q11el.value === correct['q11']) score++;

      // Text answers: q8, q9, q10
      let textScore = 0;
      const q8 = (document.getElementById('q8').value || '').trim().toLowerCase();
      const q9 = (document.getElementById('q9').value || '').trim().toLowerCase();
      const q10 = (document.getElementById('q10').value || '').trim().toLowerCase();

      // accept some variants
      const ok8 = ['toma el elemento del medio','toma el elemento medio','tomar el elemento del medio','se toma el elemento del medio','se toma el elemento medio','tomar el elemento medio','tomar elemento del medio'];
      if (ok8.some(v => q8.includes(v) || v.includes(q8)) || q8.includes('elemento del medio') || q8.includes('elemento medio')) textScore++;

      // q9: expect "O(n) para búsqueda secuencial y O(log n) para búsqueda binaria" variants
      if (q9.includes('o(n)') && q9.includes('o(log') || q9.includes('o(log n)') || q9.includes('o(log')) textScore++;
      else if (q9.includes('o n') && q9.includes('log')) textScore++;

      // q10: expect mention of "índice" "hash" "índice/punteros" "utiliza un índice" etc.
      if (q10.includes('índice') || q10.includes('indice') || q10.includes('hash') || q10.includes('índice de') || q10.includes('punteros') || q10.includes('index')) textScore++;

      // total score
      const totalScore = score + textScore;
      const maxPossible = 9 + 3; // 9 MC (1..7 + q11) + 3 text checks
      const resultEl = document.getElementById('resultado3');
      resultEl.textContent = `Resultado: ${totalScore} / ${maxPossible}`;

      // Provide short feedback: highlight wrong answers
      // We'll show simple messages rather than per-question markups
      if (totalScore === maxPossible) resultEl.style.color = '#067a3a';
      else resultEl.style.color = '#b05800';
    }

    function reiniciarActividad3(){
      // clear radios
      const all = document.querySelectorAll('#actividad3 input[type="radio"]');
      all.forEach(i=>i.checked = false);
      // clear texts
      ['q8','q9','q10'].forEach(id=>document.getElementById(id).value = '');
      document.getElementById('resultado3').textContent = '';
    }

    /* ------------------ Actividad 4: validación ------------------ */
    function validarActividad4(){
      // correct answers
      const correct = { a1:'b', a2:'b', a3:'b', a4:'a', a5:'c', a6:'b', a7:'b', a8:'a', a9:'b' };
      let score = 0;
      for (const k in correct){
        const sel = document.querySelector(`input[name="${k}"]:checked`);
        if (sel && sel.value === correct[k]) score++;
      }
      const resultEl = document.getElementById('resultado4');
      resultEl.textContent = `Resultado: ${score} / ${Object.keys(correct).length}`;
      resultEl.style.color = (score === Object.keys(correct).length) ? '#067a3a' : '#b05800';
    }

    function reiniciarActividad4(){
      const all = document.querySelectorAll('#actividad4 input[type="radio"]');
      all.forEach(i=>i.checked = false);
      document.getElementById('resultado4').textContent = '';
    }

    /* ---------- Nota sobre mantenimiento ----------
       - Si agregas/eliminás páginas modifica el objeto temasPaginas para que apunte a los índices correctos.
       - Los botones numéricos 1..7 están siempre visibles; si una posición no existe en el tema actual, quedan deshabilitados.
    */
  </script>

</body>
</html>
